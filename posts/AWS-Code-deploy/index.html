<!DOCTYPE html><html lang="en-US" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.1" /><meta property="og:title" content="AWS Code deploy" /><meta property="og:locale" content="en_US" /><meta name="description" content="AWS code deploy" /><meta property="og:description" content="AWS code deploy" /><link rel="canonical" href="https://hyunhyun.github.io/posts/AWS-Code-deploy/" /><meta property="og:url" content="https://hyunhyun.github.io/posts/AWS-Code-deploy/" /><meta property="og:site_name" content="HyunHyun’s BLOG" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2023-07-20T00:00:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="AWS Code deploy" /><meta name="twitter:site" content="@twitter_username" /><meta name="google-site-verification" content="S2Q4nwJjgxAbN61nSOPVNdKcbH6lPffUjoqeFLbKIBE" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2023-07-20T18:26:39+09:00","datePublished":"2023-07-20T00:00:00+09:00","description":"AWS code deploy","headline":"AWS Code deploy","mainEntityOfPage":{"@type":"WebPage","@id":"https://hyunhyun.github.io/posts/AWS-Code-deploy/"},"url":"https://hyunhyun.github.io/posts/AWS-Code-deploy/"}</script><title>AWS Code deploy | HyunHyun's BLOG</title><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/spring/mong.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">HyunHyun's BLOG</a></div><div class="site-subtitle font-italic">HyunHyun developer</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/hyunhyun" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/twitter_username" aria-label="twitter" class="order-4" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['example','doamin.com'].join('@')" aria-label="email" class="order-5" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-6" > <i class="fas fa-rss"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>AWS Code deploy</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>AWS Code deploy</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> Hyun </span> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Thu, Jul 20, 2023, 12:00 AM +0900" prep="on" > Jul 20 <i class="unloaded">2023-07-20T00:00:00+09:00</i> </span></div><div> <span> <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Thu, Jul 20, 2023, 6:26 PM +0900" prefix="Updated " > Jul 20 <i class="unloaded">2023-07-20T18:26:39+09:00</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="781 words">4 min</span></div></div><div class="post-content"><h1 id="aws-code-deploy">AWS code deploy</h1><p>code deploy를 생성하여 배포하는 과정을 만들어보겠다.</p><p>code deploy에 들어가서 code deploy application을 생성한다.</p><p>iam role 로 아래와 같이 AWSCodeDeployRole 권한이 있는 role을 생성한다.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://github.com/hyunhyun/hyunhyun.github.io/assets/18597515/09520207-d688-41e7-9616-8578d87baca5" alt="스크린샷 2023-07-20 오후 5 27 47" /></p><p>아래와 같이 배포 그룹을 생성한다. 배포에 추가할 인스턴스 조합으로 EC2 인스턴스를 선택한다. 그리고 아래에서 적절한 생선한 ec2 중 적절한 ec2를 선택한다.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://github.com/hyunhyun/hyunhyun.github.io/assets/18597515/f71f33d8-2e1e-44cd-a974-4c89e43c0917" alt="스크린샷 2023-07-20 오후 5 30 18" /></p><p>로드밸런스는 선택하지 않고 단일 ec2에만 적용할 것이니 로드 밸런싱 활성화는 해제해 준다. <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://github.com/hyunhyun/hyunhyun.github.io/assets/18597515/1d2cdf9d-2d4a-47f3-88e8-9cfe4b98ab42" alt="스크린샷 2023-07-20 오후 5 32 17" /></p><h2 id="소스-코드에-appspecyml-배포-script-추가">소스 코드에 appspec.yml, 배포 script 추가</h2><p>루트 폴더 바로 아래에 appspec.yml 도 추가한다</p><div class="language-yml highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre><span class="c1">#appspec.yml</span>
<span class="na">version</span><span class="pi">:</span> <span class="m">0.0</span> <span class="c1"># version 필수 값, 0.0이 고정</span>
<span class="na">os</span><span class="pi">:</span> <span class="s">linux</span> <span class="c1"># ec2에 배포하는 경우 필수 값, amazon linux -&gt; linux</span>

<span class="na">files</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">source</span><span class="pi">:</span>  <span class="s">/</span>
<span class="na">destination</span><span class="pi">:</span> <span class="s">/home/ec2-user/aws</span>  <span class="c1"># Artifact가 unzip된 결과가 생성될 디렉토리명, 배포할 위치</span>
<span class="na">overwrite</span><span class="pi">:</span> <span class="s">yes</span>

<span class="na">hooks</span><span class="pi">:</span>
<span class="na">ApplicationStart</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">location</span><span class="pi">:</span> <span class="s">/deploy.sh</span>    <span class="c1"># ApplicationStart 샘명 주기에서 deploy.sh 실행</span>
</pre></table></code></div></div><p>루트 폴더 아래에 'scripts\/deploy.sh' 파일을 생성한다</p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
</pre><td class="rouge-code"><pre><span class="c">#!/bin/bash</span>
<span class="c">#BUILD_JAR=$(ls /home/ec2-user/aws/build/libs/*.jar)     # jar가 위치하는 곳</span>
<span class="nv">BUILD_JAR</span><span class="o">=</span><span class="si">$(</span><span class="nb">ls</span> /home/ec2-user/aws/<span class="k">*</span>.jar<span class="si">)</span>     <span class="c"># jar가 위치하는 곳</span>
<span class="nv">JAR_NAME</span><span class="o">=</span><span class="si">$(</span><span class="nb">basename</span> <span class="nv">$BUILD_JAR</span><span class="si">)</span>
<span class="nb">echo</span> <span class="s2">"&gt; build 파일명: </span><span class="nv">$JAR_NAME</span><span class="s2">"</span> <span class="o">&gt;&gt;</span> /home/ec2-user/deploy.log

<span class="nb">echo</span> <span class="s2">"&gt; build 파일 복사"</span> <span class="o">&gt;&gt;</span> /home/ec2-user/deploy.log
<span class="nv">DEPLOY_PATH</span><span class="o">=</span>/home/ec2-user/
<span class="nb">cp</span> <span class="nv">$BUILD_JAR</span> <span class="nv">$DEPLOY_PATH</span>

<span class="nb">echo</span> <span class="s2">"&gt; 현재 실행중인 애플리케이션 pid 확인"</span> <span class="o">&gt;&gt;</span> /home/ec2-user/deploy.log
<span class="nv">CURRENT_PID</span><span class="o">=</span><span class="si">$(</span>pgrep <span class="nt">-f</span> <span class="nv">$JAR_NAME</span><span class="si">)</span>

<span class="k">if</span> <span class="o">[</span> <span class="nt">-z</span> <span class="nv">$CURRENT_PID</span> <span class="o">]</span> <span class="c">#-z 문자열이 길이가 0이면 참</span>
<span class="k">then
  </span><span class="nb">echo</span> <span class="s2">"&gt; 현재 구동중인 애플리케이션이 없으므로 종료하지 않습니다."</span> <span class="o">&gt;&gt;</span> /home/ec2-user/deploy.log
<span class="k">else
  </span><span class="nb">echo</span> <span class="s2">"&gt; kill -15 </span><span class="nv">$CURRENT_PID</span><span class="s2">"</span>
  <span class="nb">kill</span> <span class="nt">-15</span> <span class="nv">$CURRENT_PID</span>           <span class="c">#15 : SIGTERM:  소프트웨어 종료 시그널</span>
  <span class="nb">sleep </span>5
<span class="k">fi

</span><span class="nv">DEPLOY_JAR</span><span class="o">=</span><span class="nv">$DEPLOY_PATH$JAR_NAME</span>
<span class="nb">echo</span> <span class="s2">"&gt; DEPLOY_JAR 배포"</span>    <span class="o">&gt;&gt;</span> /home/ec2-user/deploy.log
<span class="nb">nohup </span>java <span class="nt">-jar</span> <span class="nv">$DEPLOY_JAR</span> <span class="o">&gt;&gt;</span> /home/ec2-user/deploy.log 2&gt;/home/ec2-user/deploy_err.log &amp;
</pre></table></code></div></div><p>참고블로그[https://twofootdog.tistory.com/38]</p><p>위의 블로그를 보고 스크립트를 작성했는데 <strong>BUILD_JAR=$(ls /home/ec2-user/aws/build\libs/*.jar)</strong> 라고 되어있는 위치가 내 경우에는 <strong>buildspec.yml</strong> 에서 설정한 <strong>discard-paths: yes</strong> 때문인지 위치가 루트 바로 아래에 위치하게 되었어서 위치가 달라서</p><div class="language-sh highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>script does not exist at specified location
</pre></table></code></div></div><p>라는 오류가 떴어서 위치 조정을 해주었다</p><p>code deploy 관련해서 ec2에 생성되는 로그는</p><p>/var/log/aws/codedeploy-agent 해당 위치에서 로그를 확인 가능했다</p><p>그리고 EC2에 codedeploy 가 가능하게 하려면 배포하려는 EC2 에 AWSCodeDeployRole을 추가 해 주고 codedeploy agent 설치도 해주어야한다</p><h2 id="ec2-awscodedeployrole-추가">EC2 AWSCodeDeployRole 추가</h2><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://github.com/hyunhyun/hyunhyun.github.io/assets/18597515/63d238d4-8d96-4f75-80a2-c2f8558d9f22" alt="screenshot" /></p><p>위와 같이 AWSCodeDeployRole 권한이 있는 role을 생성해주고 해당 role을 ec2에 IAM Role로 설정해준다.<br /> 아래 권한의 SSM은 EC2에 sessionManager를 통해서 접속이 가능하도록 하는 권한이다.</p><h2 id="ec2-codedeploy-agent-설치">EC2 CodeDeploy Agent 설치</h2><div class="language-sh highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>wget https://aws-codedeploy-ap-northeast-2.s3.ap-northeast-2.amazonaws.com/latest/install
</pre></table></code></div></div><p>실행 권한 추가</p><div class="language-sh highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">chmod</span> +x ./install
</pre></table></code></div></div><div class="language-sh highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo</span> ./install auto
</pre></table></code></div></div><div class="language-sh highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="c"># codedeploy-agent 상태 확인</span>
<span class="nb">sudo </span>service codedeploy-agent status

<span class="c"># codedeploy-agent 서비스 시작</span>
<span class="nb">sudo </span>service codedeploy-agent start
</pre></table></code></div></div><p>status 로 codedeploy agent이 service up 이 되어 있는지 확인한다</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/aws/'>AWS</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/aws/" class="post-tag no-text-decoration" >AWS</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=AWS Code deploy - HyunHyun's BLOG&url=https://hyunhyun.github.io/posts/AWS-Code-deploy/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=AWS Code deploy - HyunHyun's BLOG&u=https://hyunhyun.github.io/posts/AWS-Code-deploy/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=AWS Code deploy - HyunHyun's BLOG&url=https://hyunhyun.github.io/posts/AWS-Code-deploy/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/AWS-KMS-%EC%9D%B4%EC%9A%A9-%EC%95%94%ED%98%B8%ED%99%94/">AWS KMS 이용 암호화</a><li><a href="/posts/AWS-Code-deploy/">AWS Code deploy</a><li><a href="/posts/Code-Build-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0/">Code Build 사용하기</a><li><a href="/posts/gradle-profile-%EC%84%A4%EC%A0%95/">gradle profile 다르게 설정</a><li><a href="/posts/%EB%8B%A4%ED%98%95%EC%84%B1%EC%BF%BC%EB%A6%AC/">다형성 쿼리</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/jpa/">JPA</a> <a class="post-tag" href="/tags/spring/">Spring</a> <a class="post-tag" href="/tags/%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98/">알고리즘</a> <a class="post-tag" href="/tags/%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%A8%B8%EC%8A%A4/">프로그래머스</a> <a class="post-tag" href="/tags/aws/">AWS</a> <a class="post-tag" href="/tags/api/">API</a> <a class="post-tag" href="/tags/dynamicprogramming/">DynamicProgramming</a> <a class="post-tag" href="/tags/spring-boot-%EC%84%B8%ED%8C%85/">Spring boot 세팅</a> <a class="post-tag" href="/tags/swagger/">Swagger</a> <a class="post-tag" href="/tags/bfs/">BFS</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/AWS-RDS-%EC%95%94%ED%98%B8%EB%A1%9C-%EC%97%B0%EA%B2%B0/"><div class="card-body"> <span class="timeago small" > Jun 15 <i class="unloaded">2023-06-15T00:00:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>AWS RDS 암호로 연결</h3><div class="text-muted small"><p> AWS RDS 암호로 연결하기 AWS Aurora 생성 후 AWS에서 RDS 생성 시 암호를 직접 정해서 이를 이용해서 RDS에 연결 Secrets Manager를 이용해서 자동으로 암호를 생성해서 이를 AWS에서 안전하게 저장하고 이를 이용해서 연결 이렇게 방법으로 spring boot어플리케이션에서 aws rds에 접속하...</p></div></div></a></div><div class="card"> <a href="/posts/AWS-Code-Commit-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0/"><div class="card-body"> <span class="timeago small" > Jul 18 <i class="unloaded">2023-07-18T00:00:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>AWS Code Commit 사용하기</h3><div class="text-muted small"><p> Repository로 AWS Code Commit 사용하기 code commit 에서 리파지토리를 새로 생성해준다. iam 메뉴에 가서 사용자를 새로 생성한다. 사용자의 권한에 AWSCodeCommitFullAccess권한을 추가해준다. 사용자의 보안자격 증명 탭에 들어가면 아래에 AWS CodeCommit에 대한 HTTPS Git 자격 ...</p></div></div></a></div><div class="card"> <a href="/posts/AWS-Code-pipeline-%EA%B5%AC%EC%B6%95/"><div class="card-body"> <span class="timeago small" > Jul 20 <i class="unloaded">2023-07-20T00:00:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>AWS Code pipeline</h3><div class="text-muted small"><p> AWS code pipeline cicd 구축하기 이전 게시글에서 aws code commit, code build, code deploy를 만들었다. 이들을 연결하여 pipeline을 생성하여 cicd를 구축해보자. 소스 공급자로 이전에 code commit에 저장된 리파지토리를 선택한다. 빌드 스테이지에서는 이전에 생성한 code build...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/AWS-Code-Commit-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0/" class="btn btn-outline-primary" prompt="Older"><p>AWS Code Commit 사용하기</p></a> <a href="/posts/AWS-Code-pipeline-%EA%B5%AC%EC%B6%95/" class="btn btn-outline-primary" prompt="Newer"><p>AWS Code pipeline</p></a></div></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script> <script type="text/javascript"> const imgs = document.querySelectorAll('#main > div.row:first-child > div:first-child img'); const observer = lozad(imgs); observer.observe(); </script><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://twitter.com/username">Hyun</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/jpa/">JPA</a> <a class="post-tag" href="/tags/spring/">Spring</a> <a class="post-tag" href="/tags/%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98/">알고리즘</a> <a class="post-tag" href="/tags/%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%A8%B8%EC%8A%A4/">프로그래머스</a> <a class="post-tag" href="/tags/aws/">AWS</a> <a class="post-tag" href="/tags/api/">API</a> <a class="post-tag" href="/tags/dynamicprogramming/">DynamicProgramming</a> <a class="post-tag" href="/tags/spring-boot-%EC%84%B8%ED%8C%85/">Spring boot 세팅</a> <a class="post-tag" href="/tags/swagger/">Swagger</a> <a class="post-tag" href="/tags/bfs/">BFS</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://hyunhyun.github.io{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
